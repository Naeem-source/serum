{"ast":null,"code":"import _slicedToArray from\"/home/itxnaeem/Work-IDEO/Serumdex/serum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useContext,useEffect,useMemo,useState}from'react';import Wallet from'@project-serum/sol-wallet-adapter';import{notify}from'./notifications';import{useConnectionConfig}from'./connection';import{useLocalStorageState}from'./utils';import{Button,Modal}from'antd';import{LedgerWalletAdapter,PhantomWalletAdapter,SolletExtensionAdapter,MathWalletAdapter}from'../wallet-adapters';var ASSET_URL='https://cdn.jsdelivr.net/gh/solana-labs/oyster@main/assets/wallets';export var WALLET_PROVIDERS=[{name:'sollet.io',url:'https://www.sollet.io',icon:\"\".concat(ASSET_URL,\"/sollet.svg\")},{name:'Sollet Extension',url:'https://www.sollet.io/extension',icon:\"\".concat(ASSET_URL,\"/sollet.svg\"),adapter:SolletExtensionAdapter},{name:'Ledger',url:'https://www.ledger.com',icon:\"\".concat(ASSET_URL,\"/ledger.svg\"),adapter:LedgerWalletAdapter},{name:'Phantom',url:'https://www.phantom.app',icon:\"https://www.phantom.app/img/logo.png\",adapter:PhantomWalletAdapter},{name:'MathWallet',url:'https://www.mathwallet.org',icon:\"\".concat(ASSET_URL,\"/mathwallet.svg\"),adapter:MathWalletAdapter}];var WalletContext=React.createContext(null);export function WalletProvider(_ref){var _WALLET_PROVIDERS$fin,_WALLET_PROVIDERS$fin2;var children=_ref.children;var _useConnectionConfig=useConnectionConfig(),endpoint=_useConnectionConfig.endpoint;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),autoConnect=_useState2[0],setAutoConnect=_useState2[1];var _useLocalStorageState=useLocalStorageState('walletProvider'),_useLocalStorageState2=_slicedToArray(_useLocalStorageState,2),providerUrl=_useLocalStorageState2[0],setProviderUrl=_useLocalStorageState2[1];var provider=useMemo(function(){return WALLET_PROVIDERS.find(function(_ref2){var url=_ref2.url;return url===providerUrl;});},[providerUrl]);var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),wallet=_useState4[0],setWallet=_useState4[1];useEffect(function(){if(provider){var updateWallet=function updateWallet(){// hack to also update wallet synchronously in case it disconnects\n// eslint-disable-next-line react-hooks/exhaustive-deps\nwallet=new(provider.adapter||Wallet)(providerUrl,endpoint);setWallet(wallet);};if(document.readyState!=='complete'){// wait to ensure that browser extensions are loaded\nvar listener=function listener(){updateWallet();window.removeEventListener('load',listener);};window.addEventListener('load',listener);return function(){return window.removeEventListener('load',listener);};}else{updateWallet();}}},[provider,providerUrl,endpoint]);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),connected=_useState6[0],setConnected=_useState6[1];useEffect(function(){if(wallet){wallet.on('connect',function(){var _wallet;if((_wallet=wallet)===null||_wallet===void 0?void 0:_wallet.publicKey){console.log('connected');localStorage.removeItem('feeDiscountKey');setConnected(true);var walletPublicKey=wallet.publicKey.toBase58();var keyToDisplay=walletPublicKey.length>20?\"\".concat(walletPublicKey.substring(0,7),\".....\").concat(walletPublicKey.substring(walletPublicKey.length-7,walletPublicKey.length)):walletPublicKey;notify({message:'Wallet update',description:'Connected to wallet '+keyToDisplay});}});wallet.on('disconnect',function(){setConnected(false);notify({message:'Wallet update',description:'Disconnected from wallet'});localStorage.removeItem('feeDiscountKey');});}return function(){setConnected(false);if(wallet&&wallet.connected){wallet.disconnect();setConnected(false);}};},[wallet]);useEffect(function(){if(wallet&&autoConnect){wallet.connect();setAutoConnect(false);}return function(){};},[wallet,autoConnect]);var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isModalVisible=_useState8[0],setIsModalVisible=_useState8[1];var select=useCallback(function(){return setIsModalVisible(true);},[]);var close=useCallback(function(){return setIsModalVisible(false);},[]);return/*#__PURE__*/React.createElement(WalletContext.Provider,{value:{wallet:wallet,connected:connected,select:select,providerUrl:providerUrl,setProviderUrl:setProviderUrl,providerName:(_WALLET_PROVIDERS$fin=(_WALLET_PROVIDERS$fin2=WALLET_PROVIDERS.find(function(_ref3){var url=_ref3.url;return url===providerUrl;}))===null||_WALLET_PROVIDERS$fin2===void 0?void 0:_WALLET_PROVIDERS$fin2.name)!==null&&_WALLET_PROVIDERS$fin!==void 0?_WALLET_PROVIDERS$fin:providerUrl}},children,/*#__PURE__*/React.createElement(Modal,{title:\"Select Wallet\",okText:\"Connect\",visible:isModalVisible,okButtonProps:{style:{display:'none'}},onCancel:close,width:400},WALLET_PROVIDERS.map(function(provider){var onClick=function onClick(){setProviderUrl(provider.url);setAutoConnect(true);close();};return/*#__PURE__*/React.createElement(Button,{size:\"large\",type:providerUrl===provider.url?'primary':'ghost',onClick:onClick,icon:/*#__PURE__*/React.createElement(\"img\",{alt:\"\".concat(provider.name),width:20,height:20,src:provider.icon,style:{marginRight:8}}),style:{display:'block',width:'100%',textAlign:'left',marginBottom:8}},provider.name);})));}export function useWallet(){var context=useContext(WalletContext);if(!context){throw new Error('Missing wallet context');}var wallet=context.wallet;return{connected:context.connected,wallet:wallet,providerUrl:context.providerUrl,setProvider:context.setProviderUrl,providerName:context.providerName,select:context.select,connect:function connect(){wallet?wallet.connect():context.select();},disconnect:function disconnect(){wallet===null||wallet===void 0?void 0:wallet.disconnect();}};}","map":{"version":3,"sources":["/home/itxnaeem/Work-IDEO/Serumdex/serum/src/utils/wallet.tsx"],"names":["React","useCallback","useContext","useEffect","useMemo","useState","Wallet","notify","useConnectionConfig","useLocalStorageState","Button","Modal","LedgerWalletAdapter","PhantomWalletAdapter","SolletExtensionAdapter","MathWalletAdapter","ASSET_URL","WALLET_PROVIDERS","name","url","icon","adapter","WalletContext","createContext","WalletProvider","children","endpoint","autoConnect","setAutoConnect","providerUrl","setProviderUrl","provider","find","undefined","wallet","setWallet","updateWallet","document","readyState","listener","window","removeEventListener","addEventListener","connected","setConnected","on","publicKey","console","log","localStorage","removeItem","walletPublicKey","toBase58","keyToDisplay","length","substring","message","description","disconnect","connect","isModalVisible","setIsModalVisible","select","close","providerName","style","display","map","onClick","marginRight","width","textAlign","marginBottom","useWallet","context","Error","setProvider"],"mappings":"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","sourcesContent":["import React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport Wallet from '@project-serum/sol-wallet-adapter';\nimport { notify } from './notifications';\nimport { useConnectionConfig } from './connection';\nimport { useLocalStorageState } from './utils';\nimport { WalletContextValues } from './types';\nimport { Button, Modal } from 'antd';\nimport {\n  WalletAdapter,\n  LedgerWalletAdapter,\n  PhantomWalletAdapter,\n  SolletExtensionAdapter,\n  MathWalletAdapter,\n} from '../wallet-adapters';\n\nconst ASSET_URL =\n  'https://cdn.jsdelivr.net/gh/solana-labs/oyster@main/assets/wallets';\nexport const WALLET_PROVIDERS = [\n  {\n    name: 'sollet.io',\n    url: 'https://www.sollet.io',\n    icon: `${ASSET_URL}/sollet.svg`,\n  },\n  {\n    name: 'Sollet Extension',\n    url: 'https://www.sollet.io/extension',\n    icon: `${ASSET_URL}/sollet.svg`,\n    adapter: SolletExtensionAdapter as any,\n  },\n  {\n    name: 'Ledger',\n    url: 'https://www.ledger.com',\n    icon: `${ASSET_URL}/ledger.svg`,\n    adapter: LedgerWalletAdapter,\n  },\n  {\n    name: 'Phantom',\n    url: 'https://www.phantom.app',\n    icon: `https://www.phantom.app/img/logo.png`,\n    adapter: PhantomWalletAdapter,\n  },\n  {\n    name: 'MathWallet',\n    url: 'https://www.mathwallet.org',\n    icon: `${ASSET_URL}/mathwallet.svg`,\n    adapter: MathWalletAdapter,\n  },\n];\n\nconst WalletContext = React.createContext<null | WalletContextValues>(null);\n\nexport function WalletProvider({ children }) {\n  const { endpoint } = useConnectionConfig();\n\n  const [autoConnect, setAutoConnect] = useState(false);\n  const [providerUrl, setProviderUrl] = useLocalStorageState('walletProvider');\n\n  const provider = useMemo(\n    () => WALLET_PROVIDERS.find(({ url }) => url === providerUrl),\n    [providerUrl],\n  );\n\n  let [wallet, setWallet] = useState<WalletAdapter | undefined>(undefined);\n\n  useEffect(() => {\n    if (provider) {\n      const updateWallet = () => {\n        // hack to also update wallet synchronously in case it disconnects\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        wallet = new (provider.adapter || Wallet)(\n          providerUrl,\n          endpoint,\n        ) as WalletAdapter;\n        setWallet(wallet);\n      };\n\n      if (document.readyState !== 'complete') {\n        // wait to ensure that browser extensions are loaded\n        const listener = () => {\n          updateWallet();\n          window.removeEventListener('load', listener);\n        };\n        window.addEventListener('load', listener);\n        return () => window.removeEventListener('load', listener);\n      } else {\n        updateWallet();\n      }\n    }\n  }, [provider, providerUrl, endpoint]);\n\n  const [connected, setConnected] = useState(false);\n\n  useEffect(() => {\n    if (wallet) {\n      wallet.on('connect', () => {\n        if (wallet?.publicKey) {\n          console.log('connected');\n          localStorage.removeItem('feeDiscountKey');\n          setConnected(true);\n          const walletPublicKey = wallet.publicKey.toBase58();\n          const keyToDisplay =\n            walletPublicKey.length > 20\n              ? `${walletPublicKey.substring(\n                  0,\n                  7,\n                )}.....${walletPublicKey.substring(\n                  walletPublicKey.length - 7,\n                  walletPublicKey.length,\n                )}`\n              : walletPublicKey;\n\n          notify({\n            message: 'Wallet update',\n            description: 'Connected to wallet ' + keyToDisplay,\n          });\n        }\n      });\n\n      wallet.on('disconnect', () => {\n        setConnected(false);\n        notify({\n          message: 'Wallet update',\n          description: 'Disconnected from wallet',\n        });\n        localStorage.removeItem('feeDiscountKey');\n      });\n    }\n\n    return () => {\n      setConnected(false);\n      if (wallet && wallet.connected) {\n        wallet.disconnect();\n        setConnected(false);\n      }\n    };\n  }, [wallet]);\n\n  useEffect(() => {\n    if (wallet && autoConnect) {\n      wallet.connect();\n      setAutoConnect(false);\n    }\n\n    return () => {};\n  }, [wallet, autoConnect]);\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const select = useCallback(() => setIsModalVisible(true), []);\n  const close = useCallback(() => setIsModalVisible(false), []);\n\n  return (\n    <WalletContext.Provider\n      value={{\n        wallet,\n        connected,\n        select,\n        providerUrl,\n        setProviderUrl,\n        providerName:\n          WALLET_PROVIDERS.find(({ url }) => url === providerUrl)?.name ??\n          providerUrl,\n      }}\n    >\n      {children}\n      <Modal\n        title=\"Select Wallet\"\n        okText=\"Connect\"\n        visible={isModalVisible}\n        okButtonProps={{ style: { display: 'none' } }}\n        onCancel={close}\n        width={400}\n      >\n        {WALLET_PROVIDERS.map((provider) => {\n          const onClick = function () {\n            setProviderUrl(provider.url);\n            setAutoConnect(true);\n            close();\n          };\n\n          return (\n            <Button\n              size=\"large\"\n              type={providerUrl === provider.url ? 'primary' : 'ghost'}\n              onClick={onClick}\n              icon={\n                <img\n                  alt={`${provider.name}`}\n                  width={20}\n                  height={20}\n                  src={provider.icon}\n                  style={{ marginRight: 8 }}\n                />\n              }\n              style={{\n                display: 'block',\n                width: '100%',\n                textAlign: 'left',\n                marginBottom: 8,\n              }}\n            >\n              {provider.name}\n            </Button>\n          );\n        })}\n      </Modal>\n    </WalletContext.Provider>\n  );\n}\n\nexport function useWallet() {\n  const context = useContext(WalletContext);\n  if (!context) {\n    throw new Error('Missing wallet context');\n  }\n\n  const wallet = context.wallet;\n  return {\n    connected: context.connected,\n    wallet: wallet,\n    providerUrl: context.providerUrl,\n    setProvider: context.setProviderUrl,\n    providerName: context.providerName,\n    select: context.select,\n    connect() {\n      wallet ? wallet.connect() : context.select();\n    },\n    disconnect() {\n      wallet?.disconnect();\n    },\n  };\n}\n"]},"metadata":{},"sourceType":"module"}