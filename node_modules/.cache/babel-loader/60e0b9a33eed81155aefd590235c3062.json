{"ast":null,"code":"import _slicedToArray from\"/home/itxnaeem/Work-IDEO/Serumdex/serum/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{getPoolBasket}from'@project-serum/pool';import React from'react';import FloatingElement from'../../../components/layout/FloatingElement';import{Typography}from'antd';import{useAsyncData}from'../../../utils/fetch-loop';import{useConnection}from'../../../utils/connection';import tuple from'immutable-tuple';import PoolBasketDisplay from'./PoolBasketDisplay';var Text=Typography.Text,Paragraph=Typography.Paragraph;var feeFormat=new Intl.NumberFormat(undefined,{style:'percent',minimumFractionDigits:0,maximumFractionDigits:6});export default function PoolInfoPanel(_ref){var poolInfo=_ref.poolInfo,mintInfo=_ref.mintInfo;var connection=useConnection();var _useAsyncData=useAsyncData(function(){return getPoolBasket(connection,poolInfo,{redeem:mintInfo.supply});},tuple(getPoolBasket,connection,poolInfo,'total',mintInfo)),_useAsyncData2=_slicedToArray(_useAsyncData,1),totalBasket=_useAsyncData2[0];return/*#__PURE__*/React.createElement(FloatingElement,{stretchVertical:true},/*#__PURE__*/React.createElement(Paragraph,null,\"Name: \",poolInfo.state.name),/*#__PURE__*/React.createElement(Paragraph,null,\"Address: \",/*#__PURE__*/React.createElement(Text,{copyable:true},poolInfo.address.toBase58())),/*#__PURE__*/React.createElement(Paragraph,null,\"Pool token mint address:\",' ',/*#__PURE__*/React.createElement(Text,{copyable:true},poolInfo.state.poolTokenMint.toBase58())),poolInfo.state.adminKey?/*#__PURE__*/React.createElement(Paragraph,null,\"Pool admin: \",/*#__PURE__*/React.createElement(Text,{copyable:true},poolInfo.state.adminKey.toBase58())):null,/*#__PURE__*/React.createElement(Paragraph,null,\"Fee rate: \",feeFormat.format(poolInfo.state.feeRate/1000000)),/*#__PURE__*/React.createElement(Paragraph,null,\"Total supply: \",mintInfo.supply.toNumber()/Math.pow(10,mintInfo.decimals)),/*#__PURE__*/React.createElement(Text,null,\"Total assets:\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(PoolBasketDisplay,{poolInfo:poolInfo,basket:totalBasket})));}","map":{"version":3,"sources":["/home/itxnaeem/Work-IDEO/Serumdex/serum/src/pages/pools/PoolPage/PoolInfoPanel.tsx"],"names":["getPoolBasket","React","FloatingElement","Typography","useAsyncData","useConnection","tuple","PoolBasketDisplay","Text","Paragraph","feeFormat","Intl","NumberFormat","undefined","style","minimumFractionDigits","maximumFractionDigits","PoolInfoPanel","poolInfo","mintInfo","connection","redeem","supply","totalBasket","state","name","address","toBase58","poolTokenMint","adminKey","format","feeRate","toNumber","decimals"],"mappings":"8JAAA,OAASA,aAAT,KAAwC,qBAAxC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,4CAA5B,CACA,OAASC,UAAT,KAA2B,MAA3B,CAEA,OAASC,YAAT,KAA6B,2BAA7B,CACA,OAASC,aAAT,KAA8B,2BAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,C,GAEQC,CAAAA,I,CAAoBL,U,CAApBK,I,CAAMC,S,CAAcN,U,CAAdM,S,CAOd,GAAMC,CAAAA,SAAS,CAAG,GAAIC,CAAAA,IAAI,CAACC,YAAT,CAAsBC,SAAtB,CAAiC,CACjDC,KAAK,CAAE,SAD0C,CAEjDC,qBAAqB,CAAE,CAF0B,CAGjDC,qBAAqB,CAAE,CAH0B,CAAjC,CAAlB,CAMA,cAAe,SAASC,CAAAA,aAAT,MAA8D,IAArCC,CAAAA,QAAqC,MAArCA,QAAqC,CAA3BC,QAA2B,MAA3BA,QAA2B,CAC3E,GAAMC,CAAAA,UAAU,CAAGf,aAAa,EAAhC,CAD2E,kBAGrDD,YAAY,CAChC,iBAAMJ,CAAAA,aAAa,CAACoB,UAAD,CAAaF,QAAb,CAAuB,CAAEG,MAAM,CAAEF,QAAQ,CAACG,MAAnB,CAAvB,CAAnB,EADgC,CAEhChB,KAAK,CAACN,aAAD,CAAgBoB,UAAhB,CAA4BF,QAA5B,CAAsC,OAAtC,CAA+CC,QAA/C,CAF2B,CAHyC,gDAGpEI,WAHoE,mBAQ3E,mBACE,oBAAC,eAAD,EAAiB,eAAe,KAAhC,eACE,oBAAC,SAAD,eAAkBL,QAAQ,CAACM,KAAT,CAAeC,IAAjC,CADF,cAEE,oBAAC,SAAD,+BACW,oBAAC,IAAD,EAAM,QAAQ,KAAd,EAAgBP,QAAQ,CAACQ,OAAT,CAAiBC,QAAjB,EAAhB,CADX,CAFF,cAKE,oBAAC,SAAD,iCAC2B,GAD3B,cAEE,oBAAC,IAAD,EAAM,QAAQ,KAAd,EAAgBT,QAAQ,CAACM,KAAT,CAAeI,aAAf,CAA6BD,QAA7B,EAAhB,CAFF,CALF,CASGT,QAAQ,CAACM,KAAT,CAAeK,QAAf,cACC,oBAAC,SAAD,kCACc,oBAAC,IAAD,EAAM,QAAQ,KAAd,EAAgBX,QAAQ,CAACM,KAAT,CAAeK,QAAf,CAAwBF,QAAxB,EAAhB,CADd,CADD,CAIG,IAbN,cAcE,oBAAC,SAAD,mBACajB,SAAS,CAACoB,MAAV,CAAiBZ,QAAQ,CAACM,KAAT,CAAeO,OAAf,CAAyB,OAA1C,CADb,CAdF,cAiBE,oBAAC,SAAD,uBACiBZ,QAAQ,CAACG,MAAT,CAAgBU,QAAhB,YAA6B,EAA7B,CAAmCb,QAAQ,CAACc,QAA5C,CADjB,CAjBF,cAoBE,oBAAC,IAAD,sBApBF,cAqBE,4CACE,oBAAC,iBAAD,EAAmB,QAAQ,CAAEf,QAA7B,CAAuC,MAAM,CAAEK,WAA/C,EADF,CArBF,CADF,CA2BD","sourcesContent":["import { getPoolBasket, PoolInfo } from '@project-serum/pool';\nimport React from 'react';\nimport FloatingElement from '../../../components/layout/FloatingElement';\nimport { Typography } from 'antd';\nimport { MintInfo } from '../../../utils/tokens';\nimport { useAsyncData } from '../../../utils/fetch-loop';\nimport { useConnection } from '../../../utils/connection';\nimport tuple from 'immutable-tuple';\nimport PoolBasketDisplay from './PoolBasketDisplay';\n\nconst { Text, Paragraph } = Typography;\n\ninterface PoolInfoProps {\n  poolInfo: PoolInfo;\n  mintInfo: MintInfo;\n}\n\nconst feeFormat = new Intl.NumberFormat(undefined, {\n  style: 'percent',\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 6,\n});\n\nexport default function PoolInfoPanel({ poolInfo, mintInfo }: PoolInfoProps) {\n  const connection = useConnection();\n\n  const [totalBasket] = useAsyncData(\n    () => getPoolBasket(connection, poolInfo, { redeem: mintInfo.supply }),\n    tuple(getPoolBasket, connection, poolInfo, 'total', mintInfo),\n  );\n\n  return (\n    <FloatingElement stretchVertical>\n      <Paragraph>Name: {poolInfo.state.name}</Paragraph>\n      <Paragraph>\n        Address: <Text copyable>{poolInfo.address.toBase58()}</Text>\n      </Paragraph>\n      <Paragraph>\n        Pool token mint address:{' '}\n        <Text copyable>{poolInfo.state.poolTokenMint.toBase58()}</Text>\n      </Paragraph>\n      {poolInfo.state.adminKey ? (\n        <Paragraph>\n          Pool admin: <Text copyable>{poolInfo.state.adminKey.toBase58()}</Text>\n        </Paragraph>\n      ) : null}\n      <Paragraph>\n        Fee rate: {feeFormat.format(poolInfo.state.feeRate / 1_000_000)}\n      </Paragraph>\n      <Paragraph>\n        Total supply: {mintInfo.supply.toNumber() / 10 ** mintInfo.decimals}\n      </Paragraph>\n      <Text>Total assets:</Text>\n      <div>\n        <PoolBasketDisplay poolInfo={poolInfo} basket={totalBasket} />\n      </div>\n    </FloatingElement>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}